
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "_source\auto_galleries\data\plot_4_subsampling.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download__source_auto_galleries_data_plot_4_subsampling.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr__source_auto_galleries_data_plot_4_subsampling.py:


========================================
Subsampling
========================================

.. GENERATED FROM PYTHON SOURCE LINES 9-10

Import modeva modules

.. GENERATED FROM PYTHON SOURCE LINES 10-14

.. code-block:: Python

    import numpy as np
    import pandas as pd
    from modeva import DataSet








.. GENERATED FROM PYTHON SOURCE LINES 15-16

Load a simulated Friedman data

.. GENERATED FROM PYTHON SOURCE LINES 16-24

.. code-block:: Python

    from sklearn.datasets import make_friedman1
    x, y = make_friedman1(n_samples=100000, n_features=10, noise=0.1, random_state=0)
    columns = ['X' + str(i) for i in range(10)] + ['target']
    df = pd.DataFrame(np.concatenate([x, y.reshape(-1, 1)], 1), columns=columns)

    ds = DataSet(name="subsampling-demo")
    ds.load_dataframe(df)








.. GENERATED FROM PYTHON SOURCE LINES 25-26

Random subsampling

.. GENERATED FROM PYTHON SOURCE LINES 26-31

.. code-block:: Python

    ds.set_active_samples()
    results = ds.subsample_random(dataset="main", sample_size=1000)
    active_samples_index = results.value["sample_idx"]
    active_samples_index





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    array([ 3582, 60498, 53227, 21333,  3885, 51521, 84261, 10685, 59948,
           41032, 25747, 44303, 83813, 61991, 49392, 37116, 65942,  2216,
           81749, 77996, 30999, 18294, 81976, 29876, 85471,  8959, 70029,
           28324, 50521, 89741,  8350,  4655, 90049, 66296, 35416, 50253,
           46535, 65667, 56112, 69884, 69132, 27954, 45096, 83141,  7413,
           52692, 27712, 47173, 47393, 87379, 54234, 95572,  1066, 16820,
           55800, 19767, 54654, 91959, 46004, 18632, 92173, 38806,  3026,
           89926, 40109, 14664, 43105, 70847, 64523, 13303, 22321, 96669,
             822, 67521, 75286, 14085, 32500, 73097, 48652, 90432, 70715,
           98809, 71060, 16201, 29565, 43959, 45976, 57881, 60515, 11951,
           32239,  1331, 30578, 80285, 55407, 95350, 54177, 63741, 62122,
           26493, 60005, 74007,   345, 43895, 15471, 17226, 31180,  9221,
           38525, 48805, 66691, 33411, 24702, 38259, 65520, 40280, 85270,
           40425, 30407, 36017, 24852, 68371, 32893, 86902, 66295,   355,
           90756, 45862, 28100, 94411,  3854, 39856, 41824, 16750, 28809,
           94166, 91124, 61589, 20823, 43441, 56613, 52589, 26549, 35198,
           46955, 21550, 62616, 78921, 81448, 69202, 51265, 12987, 79336,
           23942, 77445, 42389, 16047, 23286, 15264, 43985, 22072, 70123,
           24951, 32543, 63373, 83691, 11216, 34462, 44808,  6642, 28167,
           42282, 63064, 21589, 75351, 57225, 35206, 69677, 95690, 46869,
           42790, 46511, 12868, 42975, 74099, 43605, 33518,  7341, 11980,
           22312, 66408, 78556, 30510, 86477, 71890, 74244, 96072, 66171,
           31186, 36740,  4084, 54732, 47751, 44205, 16479, 52242, 50216,
           56727, 89805, 54214, 68685, 73884,  4425, 55430,  4904, 71480,
           48845, 77927, 90720, 76195, 15630, 19512,  6026, 42511, 53234,
           65407, 16150, 59416, 99940, 34060, 20159, 30055, 66922,  1696,
           58952, 86440, 18476, 76125, 42020, 43980, 29449, 49200, 49135,
           34245, 77921, 57836, 54644, 91832, 68783, 14554, 45428, 91646,
           86976, 94424, 93158, 53565, 53124, 77397, 34187, 35420, 78266,
           31660,  5088, 94723, 20500, 27590, 77439, 30899, 96911, 18759,
           71812, 48378, 17974, 61197, 21657, 78025, 99961, 57042, 85544,
           45294, 26155,  8410, 50538, 60706, 67573, 77680, 20498, 81261,
           73987, 62383, 11607, 67999, 81530,  8750,  4368, 41448,  5159,
           83392, 70870, 28738, 52384, 64021, 28305, 28941, 22324, 94751,
           59801, 65399, 42618, 10109, 31886, 18457, 34841, 96263, 16685,
           30404, 43364, 96876, 57498, 73693, 34442, 86034, 39561, 64712,
           70485, 26902,  3731, 44271, 24653, 81797, 20513, 61776, 12277,
           16988, 71932, 24021, 23779, 61032, 24548, 76708, 91238, 16976,
           32970, 81465, 35815, 69358, 29492, 35521, 46995, 13968, 97721,
           58737,  3297,  5399, 40678, 64365, 24484, 23236, 49450, 31185,
            9299, 44884, 38059, 35597, 97087,   184, 68271,  9258, 25911,
           94673, 78946, 38721, 68697, 43338, 22532,   240, 10186, 56309,
             438, 11271, 92170,  9232, 99248, 98038, 16713, 47092, 81142,
           25970, 96345, 28417, 76580, 99035, 49129, 51135, 75715, 46484,
           35170, 78185, 20236, 16847, 21045, 68708, 16969, 42125, 51327,
             305, 23795, 51372, 13653, 86861, 45803, 72245, 90785, 63971,
           45539, 13302, 62451, 12554,  6071, 96853, 61853, 87097, 64519,
           12379, 53956, 68171, 54633, 32222, 19364, 99788, 29207, 66560,
           12656, 87602, 63760, 89807, 86006, 49784, 97718, 21948,  9160,
           89131,  1422, 29171, 40820, 38251, 24796, 97051, 19397, 46586,
           59720, 72462,  7886, 17411, 61545, 29231, 49277, 30986, 89216,
           81115, 98316, 47503, 16844, 42884, 40360, 76398, 23436, 30121,
           95676, 10101,  7838,  3057, 65184, 84685, 75506, 70160, 70590,
           95567, 95501, 48881,  5616, 43765, 73747, 86060, 90875, 72348,
           59314, 26803, 40276,   986, 63656, 52174, 57381, 45893, 68247,
           85653, 19532, 46696, 83944,  4690, 97209, 97337, 54464, 74706,
           80742, 38625, 78541, 36170, 22340, 32409, 19187, 15005, 75979,
           59974, 32057, 56196, 26357, 93241, 71761, 66261, 60217, 89093,
           63301, 74832, 90583, 60078, 68006, 96161, 34216, 67794, 52123,
           22969, 81387, 73543, 82095, 52670, 92215, 50345, 94717, 87574,
           61867, 21170, 68130, 72706, 59384, 33252, 89905, 78217, 41894,
           24818, 89580, 79935, 94180, 60528, 43097, 67697, 16221, 11631,
           20280, 11224, 14850, 82232, 56395, 57015, 75242,  2930,  3649,
           84317, 79126, 13064, 24778, 74084, 25043, 87128, 31170, 98516,
            1925, 48076, 71495, 84117, 22403, 61426, 54375,  9928, 81378,
           77836, 51744, 32530,  7887, 85841, 49692, 61981,  3570, 14000,
           88965, 36788,  1238, 18412, 20792, 64195, 97474, 55223, 75921,
           43124, 37811, 63865, 50153, 33982, 79534, 75236, 46691, 56540,
           73895, 54437, 13539, 46006, 44175, 46328, 60547, 49471, 53053,
            6219, 98787, 17301,  6322, 87220, 73864, 55655,  6245, 30476,
           64609, 47462, 35843, 46658, 74221, 32890, 37058, 46408, 55029,
           64625, 95165,  6045, 55942, 79486, 93800,  7642, 65587, 25588,
           46667, 26328, 30489, 15133, 62410, 20526, 76751, 38270, 57937,
           71201, 24213, 10272, 19735, 18413, 69261, 13584,  5095, 84965,
           28144, 48835, 71481, 44136, 72891, 92723, 74784, 43965, 97297,
           84599, 85683, 35241, 76976, 82633, 87006, 46353, 19467, 61615,
           63053,  4725, 11431, 28464, 15938, 29631, 35828, 54970, 65138,
            8127, 41371, 72686, 12919, 35408,  3780, 33373,  1432, 28162,
           63020, 53265, 72314, 50132, 52423, 85503, 41632, 78640, 88008,
           35688, 44035, 36023, 44508,  7484, 94297, 36382, 22762, 50946,
           74345, 56675, 87105, 60805, 36401, 99758, 89448,  2408, 41901,
           33347, 26399, 36128, 24595, 70337, 44679, 51312, 10557, 13461,
           74620,   369, 83001, 48830, 43506, 52310, 82438, 80331, 33757,
           42552, 88894, 60246, 48158, 33442,  2377,  9301,  1531, 84351,
           17178, 90221, 94553, 11710, 41431,  3596, 71502, 65951, 52886,
           67204, 20921, 77349, 75297, 75875,  1657, 15014, 46826,  1712,
           93810, 19832, 69973, 54089, 16270, 50436, 91075, 42287, 63073,
            4720, 44351,  9653, 47939, 43856, 39391, 35759, 92855, 63361,
           94720, 60279, 98797, 66656, 68968, 23929, 95095, 20832, 43173,
           53850, 71074, 31381, 90146, 83732, 62321, 47810, 78041, 17245,
            9679, 20575, 15799, 52988, 61190, 83890, 59057,  6866, 87796,
            7170, 77565, 41910, 38222, 41249, 84514, 48269, 89458, 82584,
           79419, 49543, 24175, 82286, 15429, 88243,  8619, 57187, 54862,
           95484, 22378, 37640, 85265,  6474, 92505, 63651, 39147, 60244,
           16737,  2314, 34068, 33060, 43667, 57701, 38402,  9285, 75336,
           82128, 12778, 54640, 22681, 67925, 20228, 94259, 69628, 78357,
           88048, 54434, 70864, 29079, 19237, 82511, 96412, 49364, 59856,
           11441, 73986, 13424, 40791, 68503, 99726, 73316, 54251, 83267,
           48402, 37899, 48677,  5056, 93163,  8153, 20430, 77421, 55670,
           69752, 42682,  6534, 73101, 11145, 93219, 37928, 63412, 11666,
            3311, 96915, 74799, 93464, 31167, 48471, 88992, 70324, 25369,
            7303, 94744, 15567, 70668, 29976, 23812, 71158,  7322, 24375,
           93376, 18256, 95922, 38230,     6, 48771, 48513, 11491, 50660,
             787, 96017, 12382, 18515, 74512, 16709, 25426, 98896, 20017,
           28084, 48943, 12832, 30815,  3787, 10677, 94554,  4083, 45213,
           16636, 60159, 98639, 20221, 46652, 99466, 64568, 80457, 47095,
           12658, 90289, 67599, 22524, 53635, 28939, 35001, 33142, 37271,
            9441, 21159, 61670, 43519, 46848, 19572, 14944,  6470, 20596,
           19714,  4589, 52920, 13679, 87177, 75758, 86165, 39528, 45241,
           21136, 22284, 32296, 56637, 34585, 12991, 55717, 12585, 38351,
           78930, 82173,  2324, 38128, 70024,  3473, 17858, 97530, 14492,
           82863])



.. GENERATED FROM PYTHON SOURCE LINES 32-33

Apply subsampling by setting active samples

.. GENERATED FROM PYTHON SOURCE LINES 33-36

.. code-block:: Python

    ds.set_active_samples(dataset="main", sample_idx=active_samples_index)
    ds.x.shape





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    (1000, 10)



.. GENERATED FROM PYTHON SOURCE LINES 37-38

Reset subsampling by `ds.set_active_samples()`

.. GENERATED FROM PYTHON SOURCE LINES 38-40

.. code-block:: Python

    ds.set_active_samples(dataset="main", sample_idx=None)
    ds.x.shape




.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    (100000, 10)




.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.291 seconds)


.. _sphx_glr_download__source_auto_galleries_data_plot_4_subsampling.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_4_subsampling.ipynb <plot_4_subsampling.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_4_subsampling.py <plot_4_subsampling.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_4_subsampling.zip <plot_4_subsampling.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
